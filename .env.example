# FUCO Production System - 環境配置範例
# 複製此檔案為 .env 並修改配置值

# ================================
# 基本配置
# ================================
NODE_ENV=development
APP_NAME=FUCO Production System
APP_VERSION=1.0.0
COMPANY_NAME=福桑聯合企業

# ================================
# 服務器配置  
# ================================
APP_PORT=8847
APP_HOST=0.0.0.0
APP_URL=http://localhost:8847

# ================================
# JWT 認證配置
# ================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-at-least-32-chars
JWT_EXPIRES_IN=8h
JWT_ISSUER=fuco-production-system
JWT_AUDIENCE=fuco-users

# ================================
# 資料庫配置 (可選)
# ================================
# DATABASE_URL=postgresql://username:password@localhost:5432/fuco_production
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=fuco_production
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_SSL=false

# ================================
# CORS 配置
# ================================
CORS_ORIGIN=http://localhost:8847,http://localhost:3000,http://localhost:8848
CORS_CREDENTIALS=true

# ================================
# 日誌配置
# ================================
LOG_LEVEL=info
LOG_FILE=logs/fuco.log
LOG_MAX_FILES=5
LOG_MAX_SIZE=10m
LOG_FORMAT=simple

# ================================
# 功能開關
# ================================
ENABLE_MONITORING=true
ENABLE_REPORTS=true
ENABLE_QUALITY_MODULE=true
ENABLE_EQUIPMENT_MODULE=true
ENABLE_MATERIALS_MODULE=false
ENABLE_ANALYTICS=false
ENABLE_DEBUG=true

# ================================
# 安全配置
# ================================
SESSION_SECRET=your-session-secret-key-change-in-production
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100
REQUEST_TIMEOUT=30000
MAX_REQUEST_SIZE=10mb

# ================================
# 監控配置
# ================================
MONITOR_INTERVAL=5000
ALERT_EMAIL=admin@fuco.com
ALERT_WEBHOOK=
HEALTH_CHECK_INTERVAL=30000

# ================================
# 生產配置
# ================================
DEFAULT_WORK_HOURS=8
QUALITY_THRESHOLD=95
PRODUCTION_TARGET_DAILY=2000
SHIFT_START_TIME=08:00
SHIFT_END_TIME=17:00

# ================================
# 開發工具配置
# ================================
DEV_AUTO_RELOAD=true
DEV_SHOW_ROUTES=true
DEV_MOCK_DATA=true
DEV_CORS_ALL=true
LDAP_BIND_DN=cn=admin,dc=example,dc=com
LDAP_BIND_PASSWORD=
LDAP_SEARCH_BASE=dc=example,dc=com
LDAP_SEARCH_FILTER=(uid={{username}})

# ========================================
# AI 模型配置 (本地運行)
# ========================================
AI_MODE=local
# local | hybrid | disabled

# 本地 LLM 設定
LOCAL_LLM_ENABLED=true
LOCAL_LLM_MODEL_PATH=/ai-models/llm-local/model.bin
LOCAL_LLM_PORT=8080

# 視覺檢測設定
VISION_AI_ENABLED=true
VISION_MODEL_PATH=/ai-models/vision-local/model.pb
VISION_CONFIDENCE_THRESHOLD=0.8

# ========================================
# 系統整合接口
# ========================================
# ERP 系統整合
ERP_INTEGRATION_ENABLED=false
ERP_TYPE=SAP
ERP_API_URL=http://your-erp-system/api
ERP_API_KEY=
ERP_SYNC_INTERVAL=300000

# MES 系統整合
MES_INTEGRATION_ENABLED=false
MES_PROTOCOL=OPCUA
MES_SERVER_URL=opc.tcp://your-mes-server:4840
MES_USERNAME=
MES_PASSWORD=

# MQTT 通訊
MQTT_ENABLED=false
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=
MQTT_PASSWORD=
MQTT_CLIENT_ID=fuco-production-system

# ========================================
# 檔案儲存設定
# ========================================
UPLOAD_DIR=./uploads
UPLOAD_MAX_SIZE=10485760
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,xlsx,xls,csv

# SOP 圖檔路徑
SOP_IMAGES_PATH=./uploads/sop-images
BOM_FILES_PATH=./uploads/bom-files

# ========================================
# 日誌設定
# ========================================
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_SIZE=10485760
LOG_MAX_FILES=30
LOG_COMPRESS=true

# ========================================
# 安全設定
# ========================================
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:8847,http://localhost:8848
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# 加密設定
ENCRYPTION_ALGORITHM=aes-256-gcm
ENCRYPTION_KEY=your_32_byte_encryption_key_here

# ========================================
# 授權管理
# ========================================
LICENSE_TYPE=perpetual
LICENSE_KEY=
LICENSE_VALIDATION_MODE=offline
HARDWARE_FINGERPRINT_ENABLED=true

# ========================================
# 監控與報表
# ========================================
MONITORING_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30000

# 報表生成
REPORT_GENERATION_ENABLED=true
REPORT_STORAGE_PATH=./reports
REPORT_RETENTION_DAYS=90

# ========================================
# 備份設定
# ========================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_PATH=./backups
BACKUP_RETENTION_DAYS=30

# ========================================
# 開發模式設定 (僅用於開發)
# ========================================
DEV_MODE=false
DEV_AUTO_SEED=false
DEV_VERBOSE_LOGGING=false
